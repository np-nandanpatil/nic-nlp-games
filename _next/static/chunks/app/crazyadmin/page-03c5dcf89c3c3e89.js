(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{8378:function(e,t,s){Promise.resolve().then(s.bind(s,9408))},9408:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(7437),a=s(2265),i=s(9376),n=s(8003),o=s(5978);let c=(e,t)=>{if(!e||!t)return"N/A";let s=1e3*e.seconds,r=1e3*t.seconds-s;return"".concat(Math.floor(r/6e4),"m ").concat(Math.floor(r%6e4/1e3),"s")},d=(e,t)=>{if("N/A"===t)return e;let[s,r]=t.split(" ").map(e=>{let t=parseInt(e.replace(/[^0-9]/g,""));return e.includes("m")?60*t:t});return Math.max(0,e-Math.floor((s+r)/30))};function l(){(0,i.useRouter)();let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[p,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)([]),[f,y]=(0,a.useState)("total"),[w,b]=(0,a.useState)("desc");(0,a.useEffect)(()=>{if(!p||!n.db)return;let e=(0,o.hJ)(n.db,"participants"),t=(0,o.cf)(e,e=>{g(e.docs.map(e=>{var t,s,r,a,i;let n=e.data(),o=c(n.createdAt,n.lastAnswerTime),l=d((null===(t=n.scores)||void 0===t?void 0:t.total)||0,o);return{id:e.id,name:n.name,usn:n.usn,emojiNlp:(null===(s=n.scores)||void 0===s?void 0:s.emojiNlp)||0,categorize:(null===(r=n.scores)||void 0===r?void 0:r.categorize)||0,wordMorph:(null===(a=n.scores)||void 0===a?void 0:a.wordMorph)||0,total:(null===(i=n.scores)||void 0===i?void 0:i.total)||0,createdAt:n.createdAt,lastAnswerTime:n.lastAnswerTime,timeTaken:o,timeBasedScore:l}}))});return()=>t()},[p]);let j=e=>{e===f?b("asc"===w?"desc":"asc"):(y(e),b("desc"))},v=async t=>{t.preventDefault();try{if(!n.db)throw Error("Firebase not initialized");if(!(await (0,o.PL)((0,o.hJ)(n.db,"admins"))).docs.find(t=>{let r=t.data();return r.username===e&&r.password===s})){x("Invalid credentials");return}u(!0),x("")}catch(e){x("Login failed")}};if(!p)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"})}),(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:v,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),m&&(0,r.jsx)("div",{className:"text-red-600 text-sm",children:m}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})})})]});let N=[...h].sort((e,t)=>{let s=e[f],r=t[f];return("createdAt"===f&&(s=(null==s?void 0:s.seconds)||0,r=(null==r?void 0:r.seconds)||0),"string"==typeof s&&"string"==typeof r)?"asc"===w?s.localeCompare(r):r.localeCompare(s):"asc"===w?s-r:r-s});return(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,r.jsx)("button",{onClick:()=>{u(!1)},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Sign Out"})]}),(0,r.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("name"),children:["Name ","name"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("usn"),children:["USN ","usn"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("emojiNlp"),children:["Emoji NLP ","emojiNlp"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("categorize"),children:["Categorize ","categorize"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("wordMorph"),children:["Word Morph ","wordMorph"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("total"),children:["Total ","total"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("timeTaken"),children:["Time Taken ","timeTaken"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("createdAt"),children:["Registered At ","createdAt"===f&&("asc"===w?"↑":"↓")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j("timeBasedScore"),children:["Time-Based Score ","timeBasedScore"===f&&("asc"===w?"↑":"↓")]})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.usn}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.emojiNlp}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.categorize}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.wordMorph}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.total}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.timeTaken}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleString():"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.timeBasedScore})]},e.id))})]})})]})})}},8003:function(e,t,s){"use strict";let r,a;s.d(t,{db:function(){return a}});var i=s(738),n=s(5978),o=s(3301);let c={apiKey:"AIzaSyDo5WuigZnwYkgQQiMkGLdRiSRnIh-Dv_Q",authDomain:"nic-nlp-games.firebaseapp.com",projectId:"nic-nlp-games",storageBucket:"nic-nlp-games.firebasestorage.app",messagingSenderId:"249490658721",appId:"1:249490658721:web:547cb54be54839348367e0"};try{if(!c.apiKey||!c.authDomain||!c.projectId)throw Error("Firebase configuration is missing required values");r=0===(0,i.C6)().length?(0,i.ZF)(c):(0,i.C6)()[0],a=(0,n.ad)(r),(0,o.v0)(r),console.log("Firebase initialized successfully")}catch(e){console.error("Error initializing Firebase:",e)}}},function(e){e.O(0,[358,982,290,971,117,744],function(){return e(e.s=8378)}),_N_E=e.O()}]);