(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[348],{6007:function(e,t,r){Promise.resolve().then(r.bind(r,8918))},8918:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),o=r(2265),s=r(9376),i=r(6167),n=r(5978),l=r(8003);let d=[{start:"cat",end:"dog"},{start:"lead",end:"gold"},{start:"cold",end:"warm"},{start:"love",end:"hate"},{start:"head",end:"tail"}],c={"cat-dog":["cat","cot","dot","dog"],"lead-gold":["lead","load","goad","gold"],"cold-warm":["cold","cord","card","ward","warm"],"love-hate":["love","lave","late","hate"],"head-tail":["head","heal","hell","hall","tall","tail"]},u={cat:"A small domesticated carnivorous mammal",cot:"A small bed, especially one for a baby",dot:"A small round mark or spot",dog:"A domesticated carnivorous mammal",lead:"To guide or direct",load:"A heavy or bulky thing being carried",goad:"To urge or encourage someone to do something",gold:"A yellow precious metal",cold:"Of or at a low temperature",cord:"A thin string or rope",card:"A piece of thick paper or thin cardboard",ward:"A division in a hospital",warm:"Of or at a moderately high temperature",love:"An intense feeling of deep affection",lave:"To wash or bathe",late:"After the expected or usual time",hate:"Feel intense or passionate dislike for",head:"The upper part of the body",heal:"To make or become healthy again",hell:"A place of suffering and evil",hall:"A large room for meetings or events",tall:"Of great or more than average height",tail:"The rear end of an animal"};function m(){let e=(0,s.useRouter)(),[t,r]=(0,o.useState)(0),[m,h]=(0,o.useState)(""),[p,g]=(0,o.useState)(0),[f,b]=(0,o.useState)(!1),[w,x]=(0,o.useState)(!1),[y,v]=(0,o.useState)(0),[S,N]=(0,o.useState)(!1),[j,A]=(0,o.useState)(null),[E,I]=(0,o.useState)(""),[P,k]=(0,o.useState)(null);(0,o.useEffect)(()=>{localStorage.getItem("userData")||e.push("/"),h(d[t].start)},[t,e]);let z=e=>c["".concat(d[t].start,"-").concat(d[t].end)].includes(e.toLowerCase()),O=async a=>{a.preventDefault();let o=E.toLowerCase().trim();if(o.length!==m.length){alert("Word must be the same length!");return}let s=0;for(let e=0;e<o.length;e++)o[e]!==m[e]&&s++;if(1!==s){alert("You can only change one letter at a time!");return}if(v(y+1),!z(o)){alert("Not a valid word in this puzzle!");return}if(h(o),I(""),k(u[o]||null),o===d[t].end){x(!0),b(!0);let a=p+10;g(a),N(!0);try{let e=JSON.parse(localStorage.getItem("userData")||"{}");if(await (0,i.Vs)(e.usn,"wordMorph",a),console.log("Score updated successfully:",a),!l.db)throw Error("Firebase not initialized");let t=(0,n.hJ)(l.db,"participants"),r=(0,n.IO)(t,(0,n.ar)("usn","==",e.usn)),o=await (0,n.PL)(r);if(!o.empty){let e=o.docs[0];await (0,n.r7)((0,n.JU)(l.db,"participants",e.id),{"currentProgress.wordMorph":5,"scores.wordMorph":a})}let s=JSON.parse(localStorage.getItem("completedGames")||"[]");s.includes("wordMorph")||(s.push("wordMorph"),localStorage.setItem("completedGames",JSON.stringify(s)))}catch(e){console.error("Error updating score:",e),A("Failed to save your score. Please try again.")}finally{N(!1)}setTimeout(()=>{b(!1),v(0),k(null),t<d.length-1?r(t+1):e.push("/games/completion?game=wordMorph&score=".concat(a))},2e3)}};return(0,a.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-primary",children:"Word Morph"}),j&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:j}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"text-gray-600 mb-2",children:["Puzzle ",t+1," of ",d.length]}),(0,a.jsxs)("div",{className:"text-xl font-semibold mb-4",children:["Score: ",p]}),(0,a.jsxs)("div",{className:"text-2xl font-bold mb-4",children:[d[t].start," â†’ ",d[t].end]}),(0,a.jsxs)("div",{className:"text-xl font-semibold mb-4",children:["Current: ",m]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Attempts: ",y]}),P&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 text-blue-700 rounded-md",children:[(0,a.jsx)("strong",{children:"Meaning:"})," ",P]})]}),(0,a.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",value:E,onChange:e=>I(e.target.value),className:"input-field",placeholder:"Enter next word...",required:!0,disabled:S})}),f&&(0,a.jsx)("div",{className:"text-center p-2 rounded bg-green-100 text-green-700",children:"Correct! +10 points"}),(0,a.jsx)("button",{type:"submit",className:"btn-primary w-full",disabled:S,children:S?(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Saving Score..."]}):"Submit Word"})]})]})]})})}},8003:function(e,t,r){"use strict";let a,o;r.d(t,{db:function(){return o}});var s=r(738),i=r(5978),n=r(3301);let l={apiKey:"AIzaSyDo5WuigZnwYkgQQiMkGLdRiSRnIh-Dv_Q",authDomain:"nic-nlp-games.firebaseapp.com",projectId:"nic-nlp-games",storageBucket:"nic-nlp-games.firebasestorage.app",messagingSenderId:"249490658721",appId:"1:249490658721:web:547cb54be54839348367e0"};try{if(!l.apiKey||!l.authDomain||!l.projectId)throw Error("Firebase configuration is missing required values");a=0===(0,s.C6)().length?(0,s.ZF)(l):(0,s.C6)()[0],o=(0,i.ad)(a),(0,n.v0)(a),console.log("Firebase initialized successfully")}catch(e){console.error("Error initializing Firebase:",e)}},6167:function(e,t,r){"use strict";r.d(t,{RO:function(){return n},Vs:function(){return i},iR:function(){return s}});var a=r(8003),o=r(5978);let s=async e=>{try{if(!a.db)throw Error("Firebase not initialized");console.log("Adding participant:",e);let t=await (0,o.ET)((0,o.hJ)(a.db,"participants"),{...e,scores:{emojiNlp:0,categorize:0,wordMorph:0,total:0},createdAt:new Date});return console.log("Participant added with ID:",t.id),t.id}catch(e){throw console.error("Error adding participant:",e),e}},i=async(e,t,r)=>{try{if(!a.db)throw Error("Firebase not initialized");console.log("Updating score for participant:",e,"game:",t,"score:",r);let s=(0,o.hJ)(a.db,"participants"),i=(0,o.IO)(s,(0,o.ar)("usn","==",e)),n=await (0,o.PL)(i);if(n.empty){console.error("Participant not found:",e);return}let l=n.docs[0],d=(0,o.JU)(a.db,"participants",l.id),c=l.data(),u={...c.scores,[t]:r,total:c.scores.total-c.scores[t]+r};await (0,o.r7)(d,{scores:u,lastAnswerTime:new Date}),console.log("Score updated successfully")}catch(e){throw console.error("Error updating score:",e),e}},n=async(e,t,r)=>{try{if(!a.db)throw Error("Firebase not initialized");let s=(0,o.hJ)(a.db,"participants"),i=(0,o.IO)(s,(0,o.ar)("usn","==",e)),n=await (0,o.PL)(i);if(n.empty){console.error("Participant not found:",e);return}let l=n.docs[0],d=(0,o.JU)(a.db,"participants",l.id),c=l.data();await (0,o.r7)(d,{currentProgress:{...c.currentProgress,[t]:r}}),console.log("Progress updated successfully")}catch(e){throw console.error("Error updating progress:",e),e}}}},function(e){e.O(0,[358,982,290,971,117,744],function(){return e(e.s=6007)}),_N_E=e.O()}]);