(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4453:function(e,t,r){Promise.resolve().then(r.bind(r,6052))},8003:function(e,t,r){"use strict";let a,i;r.d(t,{db:function(){return i}});var s=r(738),n=r(5978),o=r(3301);let l={apiKey:"AIzaSyDo5WuigZnwYkgQQiMkGLdRiSRnIh-Dv_Q",authDomain:"nic-nlp-games.firebaseapp.com",projectId:"nic-nlp-games",storageBucket:"nic-nlp-games.firebasestorage.app",messagingSenderId:"249490658721",appId:"1:249490658721:web:547cb54be54839348367e0"};try{if(!l.apiKey||!l.authDomain||!l.projectId)throw Error("Firebase configuration is missing required values");a=0===(0,s.C6)().length?(0,s.ZF)(l):(0,s.C6)()[0],i=(0,n.ad)(a),(0,o.v0)(a),console.log("Firebase initialized successfully")}catch(e){console.error("Error initializing Firebase:",e)}},6167:function(e,t,r){"use strict";r.d(t,{RO:function(){return o},Vs:function(){return n},iR:function(){return s}});var a=r(8003),i=r(5978);let s=async e=>{try{if(!a.db)throw Error("Firebase not initialized");console.log("Adding participant:",e);let t=await (0,i.ET)((0,i.hJ)(a.db,"participants"),{...e,scores:{emojiNlp:0,categorize:0,wordMorph:0,total:0},createdAt:new Date});return console.log("Participant added with ID:",t.id),t.id}catch(e){throw console.error("Error adding participant:",e),e}},n=async(e,t,r)=>{try{if(!a.db)throw Error("Firebase not initialized");console.log("Updating score for participant:",e,"game:",t,"score:",r);let s=(0,i.hJ)(a.db,"participants"),n=(0,i.IO)(s,(0,i.ar)("usn","==",e)),o=await (0,i.PL)(n);if(o.empty){console.error("Participant not found:",e);return}let l=o.docs[0],c=(0,i.JU)(a.db,"participants",l.id),d=l.data(),u={...d.scores,[t]:r,total:d.scores.total-d.scores[t]+r};await (0,i.r7)(c,{scores:u,lastAnswerTime:new Date}),console.log("Score updated successfully")}catch(e){throw console.error("Error updating score:",e),e}},o=async(e,t,r)=>{try{if(!a.db)throw Error("Firebase not initialized");let s=(0,i.hJ)(a.db,"participants"),n=(0,i.IO)(s,(0,i.ar)("usn","==",e)),o=await (0,i.PL)(n);if(o.empty){console.error("Participant not found:",e);return}let l=o.docs[0],c=(0,i.JU)(a.db,"participants",l.id),d=l.data();await (0,i.r7)(c,{currentProgress:{...d.currentProgress,[t]:r}}),console.log("Progress updated successfully")}catch(e){throw console.error("Error updating progress:",e),e}}},6052:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(7437),i=r(2265),s=r(9376);let n=i.forwardRef(function(e,t){let{title:r,titleId:a,...s}=e;return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),r?i.createElement("title",{id:a},r):null,i.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});var o=r(6167),l=r(8003),c=r(5978);function d(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)({name:"",usn:"",mobile:""}),[d,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(null),g=async r=>{r.preventDefault(),u(!0),p(null);try{if(!l.db)throw Error("Firebase not initialized");let r=(0,c.hJ)(l.db,"participants"),a=(0,c.IO)(r,(0,c.ar)("usn","==",t.usn)),i=await (0,c.PL)(a);if(i.empty)await (0,o.iR)({...t,currentProgress:{emojiNlp:0,categorize:0,wordMorph:0}}),localStorage.setItem("userData",JSON.stringify({...t,currentProgress:{emojiNlp:0,categorize:0,wordMorph:0},scores:{emojiNlp:0,categorize:0,wordMorph:0,total:0}})),e.push("/games");else{let r=i.docs[0].data(),a=r.scores||{};localStorage.setItem("userData",JSON.stringify({...t,currentProgress:r.currentProgress||{},scores:a})),e.push("/games")}}catch(e){console.error("Error saving participant:",e),p("Failed to save your details. Please try again.")}finally{u(!1)}};return(0,a.jsx)("main",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-primary",children:"NIC's ML Nova - Round 1"}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Registration"}),m&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:m}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",id:"name",required:!0,className:"input-field",value:t.name,onChange:e=>r({...t,name:e.target.value}),disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"usn",className:"block text-sm font-medium text-gray-700 mb-1",children:"USN (1MJ00AA000)"}),(0,a.jsx)("input",{type:"text",id:"usn",required:!0,pattern:"1MJ[0-9]{2}[A-Z]{2}[0-9]{3}",className:"input-field",value:t.usn,onChange:e=>r({...t,usn:e.target.value}),disabled:d})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),(0,a.jsx)("input",{type:"tel",id:"mobile",required:!0,pattern:"[0-9]{10}",className:"input-field",value:t.mobile,onChange:e=>r({...t,mobile:e.target.value}),disabled:d})]}),(0,a.jsx)("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center gap-2",disabled:d,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:["Start Games",(0,a.jsx)(n,{className:"w-5 h-5"})]})})]})]})]})})}}},function(e){e.O(0,[358,982,290,971,117,744],function(){return e(e.s=4453)}),_N_E=e.O()}]);